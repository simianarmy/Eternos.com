<%- fields_for address_book do |ab| %>
<tr>
  <td class="coll-form1" valign="center">Title</td>
  <td class="coll-form2" valign="center">:</td>
  <td class="coll-form3" valign="center"><%= select "address_book", "name_title",  AddressBook::NAME_TITLES, { :include_blank => true, :selected => address_book.name_title }, :style => "width: 60px" %></td>
</tr>

<tr>
  <td class="coll-form1" valign="center">First Name <font style="color: red;">*</font></td>
  <td class="coll-form2" valign="center">:</td>
  <td class="coll-form3" valign="center"><%= ab.text_field :first_name %></td>
</tr>
<tr>
  <td class="coll-form1" valign="center">Middle Name</td>
  <td class="coll-form2" valign="center">:</td>
  <td class="coll-form3" valign="center"><%= ab.text_field :middle_name %></td>
</tr>
<tr>
  <td class="coll-form1" valign="center">Last Name <font style="color: red;">*</font></td>
  <td class="coll-form2" valign="center">:</td>
  <td class="coll-form3" valign="center"><%= ab.text_field :last_name %></td>
</tr>
<tr>
  <td class="coll-form1" valign="center">Suffix</td>
  <td class="coll-form2" valign="center">:</td>
  <td class="coll-form3" valign="center"><%= select "address_book", "name_suffix",  AddressBook::NAME_SUFFIXES, { :include_blank => true, :selected => address_book.name_suffix }, :style => "width: 60px" %></td>
</tr>


<tr>
  <td class="coll-form1" valign="center">Birthdate <font style="color: red;">*</font></td>
  <td class="coll-form2" valign="center">:</td>
  <td class="coll-form3" valign="center"> 
    <div class="birthdate-box">
      <%= ab.date_select_with_datepicker(:birthdate, {
        :add_month_numbers => true, :order => [:day,:month,:year], 
        :default => address_book.birthdate,
        :start_year => Date.today.year, :end_year => 100.years.ago.year}) 
        %>
      </div>
    </td>
  </tr>
  <% unless local_assigns[:basic_view] %>
        <tr>
  	    <td class="coll-form1" valign="top">Gender*</td>
  		<td class="coll-form2" valign="top">:</td>
  		<td class="coll-form3" valign="top">
  		  <%= radio_submit_onclick(ab, :gender, "male", "submit_form_personal", address_book.gender, "") %> Male
  		  <br/>
  		  <%= radio_submit_onclick(ab, :gender, "female", "submit_form_personal", address_book.gender, "") %> Female
  		  <br/>
        <%= radio_submit_onclick(ab, :gender, "transgender", "submit_form_personal", address_book.gender, "") %> Transgender
  		</td>
  	  </tr>

        <tr>
          <td class="coll-form1" valign="center">Timezone</td>
  		<td class="coll-form2" valign="center">:</td>
  		<td class="coll-form3" valign="center"> 
            <%= time_zone_submit_onselect(ab, :timezone, "submit_form_personal", nil, {}, {:id => "address_book_timezone"} ) %>
          </td>
        </tr>
  <%- end -%>
<% end # fields_for address_book %>

<% unless local_assigns[:basic_view] %>
  <% fields_for profile do |profile| -%>
      <tr>
        <td class="coll-form1" valign="center">Height</td>
	    <td class="coll-form2" valign="center">:</td>
	    <td class="coll-form3" valign="center"><%= text_field_submit_onchange(profile, :height, "submit_form_personal") %></td>
      </tr>

       <tr>
        <td class="coll-form1" valign="center">Weight</td>
	    <td class="coll-form2" valign="center">:</td>
	    <td class="coll-form3" valign="center"> <%= text_field_submit_onchange(profile, :weight, "submit_form_personal") %></td>
      </tr>

      <tr>
        <td class="coll-form1" valign="center">Ethnicity</td>
	    <td class="coll-form2" valign="center">:</td>
	    <td class="coll-form3" valign="center"> <%=text_field_submit_onchange(profile, :race, "submit_form_personal") %> </td>
      </tr>

      <tr>
        <td class="coll-form1" valign="center">Religion</td>
	    <td class="coll-form2" valign="center">:</td>
	    <td class="coll-form3" valign="center"> <%= text_field_submit_onchange(profile, :religion, "submit_form_personal") %> </td>
      </tr>

      <tr>
        <td class="coll-form1" valign="center">Political Views</td>
	    <td class="coll-form2" valign="center">:</td>
	    <td class="coll-form3" valign="center">  <%= text_field_submit_onchange(profile, :political_views, "submit_form_personal") %> </td>
      </tr>

      <tr>
        <td class="coll-form1" valign="center">Sexual Orientation</td>
	    <td class="coll-form2" valign="center">:</td>
	    <td class="coll-form3" valign="center">  <%= text_field_submit_onchange(profile, :sexual_orientation, "submit_form_personal") %> </td>
      </tr>

  <% end # fields_for @profile -%>  
<% end # unless local_assigns[:basic_view]-%>
  


